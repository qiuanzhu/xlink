p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
remove(list=ls())
n=1000;
set.seed(19)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1.7
beta_2<- 2
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
glm(y~x_1+x_2+x_3,binomial(link = "logit"))
y
remove(list=ls())
n=1000;
set.seed(19)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1.7
beta_2<- 2
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
glm(y~x_1+x_2+x_3,binomial(link = "logit"))
warnings()
warning(glm(y~x_1+x_2+x_3,binomial(link = "logit")))
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1.7
beta_2<- 2
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
glm( y~x_1+x_2+x_3,binomial(link = "logit") )
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- 2
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- 1
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- 1
beta_3<- -1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
mean(p)
mean(y)
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
data<-cbind(y,x_1,x_2,x_3)
head(data)
write.csv(data,"C:\Users\Yi\Desktop\p_2\test_cut_off\simulated.csv")
write.csv(data,"C:\\Users\\Yi\Desktop\\p_2\\test_cut_off\\simulated.csv")
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv")
seq(1:n)
a<-seq(1:n)
id<-smaple(a,n,replace = FALSE)
id<-sample(a,n,replace = FALSE)
sum(id)
data<-data[id]
head(data)
data<-cbind(y,x_1,x_2,x_3)
data<-data[id,]
head(data)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
a<-seq(1:n)
id<-sample(a,n,replace = FALSE)
data<-data[id,]
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv")
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv",rownames=FALSE)
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv",row.names=FALSE)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 1
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv",row.names=FALSE)
glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
mean(p)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 0.9
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 0.95
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -0.9
beta_3<- 0.9
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
mean(y)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 0.9
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
mean(y)
mean(p)
remove(list=ls())
n=1000;
set.seed(119)
x_1<-runif(n,min=6,max=8)
x_2<-rnorm(n,1,4)
x_3<-rpois(n,5)
beta_1<- -1
beta_2<- -1
beta_3<- 0.95
p<- exp(beta_1*x_1+beta_2*x_2+beta_3*x_3)/(1+exp(beta_1*x_1+beta_2*x_2+beta_3*x_3))
y<-rbinom(n, 1, p)
model<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),control=list(maxit=100))
summary(model)
group<-c(rep(1,200),rep(2,200),rep(3,200),rep(4,200),rep(5,200))
data<-cbind(y,x_1,x_2,x_3,group)
mean(p)
mean(y)
summary(model)
data_1<-data[1:200,]
model_1<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),data=data_1,control=list(maxit=100))
summary(model_1)
data_1
model_1<-glm( y~x_1+x_2+x_3,binomial(link = "logit"),data=data_1,control=list(maxit=100))
model_1<-glm( data_1$y~data_1$x_1+data_1$x_2+data_1$x_3,binomial(link = "logit"),data=data_1,control=list(maxit=100))
model_1<-glm( data_1$y~data_1$x_1+data_1$x_2+data_1$x_3,binomial(link = "logit"),data=data_1)
model_1<-glm( data_1$y~data_1$x_1+data_1$x_2+data_1$x_3,data=data_1,family=binomial(link = "logit"))
data_1<-as.data.frame(data[1:200,])
model_1<-glm( data_1$y~data_1$x_1+data_1$x_2+data_1$x_3,data=data_1,family=binomial(link = "logit"))
summary(model_1)
write.csv(data,"C:\\Users\\Yi\\Desktop\\p_2\\test_cut_off\\simulated.csv",row.names=FALSE)
summary(model_1)
library(pROC)
summary(model)
Preds <- predict(model, type = 'response')
auc(data$y, Preds)
Preds
data$y
head(data)
auc(data[,1], Preds)
Preds <- predict(mode_1, type = 'response')
auc(data_1[,1], Preds)
Preds <- predict(model_1, type = 'response')
auc(data_1[,1], Preds)
remvoe(list=ls())
remove(list=ls())
library(devtools)
has_devel()
library(roxygen2)
library(testthat)
devtools::session_info()
invalidation
install.packages("formatR")
setwd("C:\Users\Yi\Desktop\build_R\xlink")
setwd("C:\\Users\\Yi\\Desktop\\build_R\\xlink")
formatR::tidy_dir()
library('formatR')
formatR::tidy_dir()
formatR::tidy_dir("R")
formatR::tidy_dir("R")
devtools::document()
?xlink
remove(list = ls())
require(survival)
source("C:/Users/Yi/Desktop/build_R/xlink/R/xlink.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_all_models.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_XCI_model.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_XCI_E_model.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/infor_table.R")
data <- read.table("C:\\Users\\Yi\\Desktop\\build_R\\xlink\\data\\simulation_data.txt", header = TRUE)
cov_list <- c("Age", "Smoking", "Treatment")
data <- read.table("C:\\Users\\Yi\\Desktop\\test\\R_functions\\simulation_data.txt", header = TRUE)
cov_list <- c("Age", "Smoking", "Treatment")
output_xci_e_s <- xlink(os = "OS", ostime = "OS_time", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI-E") ,model="survival", data = data)
output_xci_e_s
output_xci_e_s <- xlink(os = "OS", ostime = "OS_time", snps = "snp_2", gender = "gender", covars = cov_list,model="survival", data = data)
output_xci_e_s
devtools::document()
?xlink
devtools::document()
?xlink
devtools::document()
?xlink
?glm
?lm
?coxph
devtools::document()
?xlink
devtools::document()
?fit_all_models
?xlink
?fit_XCI_E_model3
?fit_XCI_E_model
remove(list = ls())
require(survival)
source("C:/Users/Yi/Desktop/build_R/xlink/R/xlink_fit.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_all_models.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_XCI_model.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/fit_XCI_E_model.R")
source("C:/Users/Yi/Desktop/build_R/xlink/R/infor_table.R")
data <- read.table("C:\\Users\\Yi\\Desktop\\test\\R_functions\\simulation_data.txt", header = TRUE)
cov_list <- c("Age", "Smoking", "Treatment")
output_xci_e_s <- xlink(os = "OS", ostime = "OS_time", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI-E") ,model="survival", data = data)
output_xci_e_s
devtools::document()
?Rdata
data(Rdata)
View(data)
View(data)
View(data)
devtools::document()
?Rdata
devtools::document()
?Rdata
View(xlink_fit)
View(xlink_fit)
?glm
?stat
?stats
?formatR
?coxph
?survival
fotmatR("R")
formatR("R")
library("formatR")
formatR("R")
formatR::tidy_dir("R")
formatR::tidy_dir("R")
devtools::document()
？xlink
?xlink
?lm
glm?
1
?glm
?coxph
devtools::document()
devtools::document()
?fit_XCI_model
devtools::document()
?fit_XCI_model
?MASS
install.packages("abbey")
?MASS
?ABBEY
?abbey
??abbey
devtools::document()
?fit_XCI_model
?abbey
??abbey
devtools::document()
?xlink
devtools::document()
devtools::document()\
devtools::document()
devtools::document()
devtools::document()
devtools::document()
?xlink
devtools::document()
devtools::document()\
?xlink
devtools::document()
?xlink_fit
devtools::document()
?xlink_fit
devtools::document()
?fit.all_models
?fit_all_models
browseVignettes("xlink")
browseVignettes("devtool")
browseVignettes("xlink")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
plot(1:10)
plot(10:1)
knitr::kable(head(mtcars, 10))
install.packages('template')
install.packages('templates')
devtools::use_testthat()
devtools::test()
devtools::build()
devtools::test(xlink)
devtools::test(xlink.R)
devtools::test()
R CMD check
devtools::check()
devtools::check()
:: operator?
:: operator?
operator?
d
::summarize?
summarize?
z
search()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
?Rdata
devtools::document()
?Rdata
devtools::document()
devtools::document()
?X_data
output_xci_s <- xlink_fit(os = "OS", ostime = "OS_time", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI") ,model="survival", data = data)
output_xci_s
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
output_xci_s <- xlink_fit(os = "OS", ostime = "OS_time", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI") ,model="survival", data = data)
select_output(output_xci_s,"snp_2")
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,"snp_2")
output_xci_s
output_xci_b <- xlink(resp  = "OS", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI") ,model="binary", data = data)
output_xci_b <- xlink_fit(resp  = "OS", snps = "snp_2", gender = "gender", covars = cov_list, option =list(type="XCI") ,model="binary", data = data)
output_xci_b
output_xci_s <- xlink_fit(os = "OS", ostime = "OS_time", snps = c("snp_1","snp_2"), gender = "gender", covars = cov_list, option =list(type="XCI") ,model="survival", data = data)
output_xci_b <- xlink_fit(resp  = "OS", snps = c("snp_1","snp_2"), gender = "gender", covars = cov_list, option =list(type="XCI") ,model="binary", data = data)
select_output(output_xci_s,c("snp_1","snp_2"))
output_xci_b[1][[1]][[1]]
colnames(output_xci_b[1][[1]][[1]])
rownames(output_xci_b[1][[1]][[1]])
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
select_output(output_xci_b,c("snp_1","snp_2"))
output_xci_l <- xlink_fit(resp  = "OS_time", snps = c("snp_1","snp_2"), gender = "gender", covars = cov_list, option =list(type="XCI") ,model="linear", data = data)
select_output(output_xci_l,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
select_output(output_xci_b,c("snp_1","snp_2"))
select_output(output_xci_l,c("snp_1","snp_2"))
length(output_xci_l)
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
output_xci_s
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_b,c("snp_1","snp_2"))
select_output(output_xci_l,c("snp_1","snp_2"))
select_output(output_xci_s,c("snp_1","snp_2"))
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s,c("snp_1","snp_2"))
select_output(output_xci_b,c("snp_1","snp_2"))
select_output(output_xci_l,c("snp_1","snp_2"))
output_xci_s
output_xci_b
output_xci_l
source("C:/Users/Yi/Desktop/build_R/xlink/R/select_output.R")
select_output(output_xci_s)
select_output(output_xci_b)
select_output(output_xci_l)
output_xci_s_all <- xlink_fit(os = "OS", ostime = "OS_time", snps = c("snp_1","snp_2"), gender = "gender", covars = cov_list ,model="survival", data = data)
output_xci_s_all
output_xci_s_all[1]
output_xci_s_all[1:length(output_xci_s_all)][[1]]
output_xci_s_all[1:length(output_xci_s_all)]
listnames(output_xci_s_all[1:length(output_xci_s_all)])
names(output_xci_s_all[1:length(output_xci_s_all)])
names(output_xci_s_all[1][[1]])
?xink_fit
?xlink_fit
output_xci_s_all
